define("app",["exports","aurelia-framework","services/authorize-step","services/auth-service","web-api"],function(e,t,n,a,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;var s,o,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();e.App=(s=(0,t.inject)(a.AuthService,i.WebAPI))(o=function(){function e(t,n){r(this,e),this.authService=t,this.webApi=n}return e.prototype.configureRouter=function(e,t){e.title="Registration App",e.map([{route:"",moduleId:"index",title:"Index",name:"index",auth:!0},{route:"registration",moduleId:"pages/registration",title:"Registration",name:"settings",auth:!0},{route:"registration/:id",moduleId:"pages/registration",title:"Registration",name:"settings",auth:!0},{route:"splash/:id",moduleId:"pages/splash",title:"Finish",name:"splash",auth:!0},{route:"reports",moduleId:"pages/reports",title:"Reports",name:"reports",auth:!0},{route:"settings",moduleId:"pages/settings",title:"Settings",name:"settings",auth:!0},{route:"lookup",moduleId:"pages/lookup",title:"Lookup",name:"lookup",auth:!0},{route:"gmail",moduleId:"pages/gmail",title:"GMail",name:"gmail",auth:!0}]),this.router=t},l(e,[{key:"isAuthenticated",get:function(){return this.authService.isAuthenticated()}}]),e}())||o}),define("environment",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={debug:!1,testing:!1}}),define("index",["exports","web-api","aurelia-framework"],function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Index=void 0;var i,r;e.Index=(i=(0,n.inject)(t.WebAPI))(r=function(){function e(t){a(this,e),this.message="Registration Demo",this.webApi=t}return e.prototype.created=function(){},e}())||r}),define("main",["exports","./environment"],function(e,t){"use strict";function n(e){e.use.standardConfiguration().feature("resources").plugin("aurelia-validation"),a.default.debug&&e.use.developmentLogging(),a.default.testing&&e.use.plugin("aurelia-testing"),e.start().then(function(){return e.setRoot()})}Object.defineProperty(e,"__esModule",{value:!0}),e.configure=n;var a=function(e){return e&&e.__esModule?e:{default:e}}(t);Promise.config({longStackTraces:a.default.debug,warnings:{wForgottenReturn:!1}})}),define("utility",["exports"],function(e){"use strict";function t(e,t){return Object.keys(e).every(function(n){return t.hasOwnProperty(n)&&e[n]===t[n]})}function n(e){return JSON.parse(JSON.stringify(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.areEqual=t,e.clone=n}),define("web-api",["exports","model/events/attendee-updated","model/events/check-in","model/events/recipients-updated","model/events/settings-updated","utility","aurelia-event-aggregator","aurelia-framework"],function(e,t,n,a,i,r,s,o){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(){var e=++m;return localStorage.setItem("id",e),e}function c(e,t){return e.isRequesting=!0,new Promise(function(n){setTimeout(function(){n(t),e.isRequesting=!1},h)})}function u(e,t){var n=(0,r.clone)(e),a=t.find(function(e){return e.id===n.id});if(a){t[t.indexOf(a)]=n}else n.id=d(),t.push(n);return n}Object.defineProperty(e,"__esModule",{value:!0}),e.WebAPI=void 0;var p,f,h=100,m=localStorage.getItem("id"),g=[],b=[{icon:"user",title:"Lookup Attendee",route:"lookup",showTitle:!0},{icon:"list-alt",title:"Registration",route:"registration",showTitle:!0},{icon:"stats",title:"Reports",route:"reports",showTitle:!0},{icon:"cog",title:"Settings",route:"settings",showTitle:!0}],v=JSON.parse(localStorage.getItem("settings"));if(!v){v={},console.log("Loading default settings..."),v["email.sender.address"]="mmmm@legalshieldassociates.com",v["email.templates.signature"]="\nMichael & Marilyn McKee<br />\nRegional Managers<br />\nIndependent Associates<br />\nLegalShield<br />\n402-201-3518\n",v["email.templates.welcome-guest"]="\nThank you for attending the Tuesday evening LegalShield Business Opportunity Meeting in Omaha, Nebraska, on {{date}}.<br />\nWe enjoyed informing you, our Guest, on the value of the LegalShield Plan and Opportunity.<br />\nWe hope to see you back soon.<br /><br />\n{{signature}}",v["email.templates.welcome-associate"]="\nWe appreciated your being at the Omaha LegalShield Business Opportunity Meeting.<br />\nWe are always pleased to share the value of the Membership.<br />\nWe hope to see you back at the meeting again soon.<br /><br />\nYou will receive a separate receipt for the $5 you paid to attend.<br />\nThank you.<br /><br />\n{{signature}}",v["email.templates.welcome-member"]="\nWe appreciate your continued support of the Omaha LegalShield Business Opportunity Meeting.<br />\nWe enjoyed your attending on {{date}}.<br /><br />\nIf you have any feedback or suggestions for the meeting, please reply to bring your comments to Michael at the meeting.<br /><br />\nThank you.<br />\nMichael<br /><br />\n{{signature}}",v["email.templates.referring-associate"]="\nWe were happy to have {{firstName}} {{lastName}} at our meeting this week.  Thank you for sending them.  Whether they were a guest or already a LegalShield Associate, we hope they learned all they came for.<br /><br />\nIf we can be of service to you or your Omaha Metro--based Associate in the future, please contact us.  If your referred person become (or is) an Associate, they are welcome at our meeting weekly.<br /><br />\nNow that I have your email address, I will be adding you to a monthly newsletter informing you of local meetings, Super Saturday's and other LS events of interest.<br /><br />\n{{signature}}",v["email.templates.briefing-report"]="\nThis week, we had the following individuals at the Omaha LS Briefing:<br /><br />\n<table>\n  <tr><th>Associates</th><td>{{associates}}</td></tr>\n  <tr><th>Members</th><td>{{members}}</td></tr>\n  <tr><th>Guests</th><td>{{guests}}</td></tr>\n</table>\n<br /><br />\nOur Presenter for the week was:  <br />\nThe Training Topic was:  <br /><br />\n{{signature}}",v["email.templates.attendance-report"]="\nThis week, these people attended the meeting:<br /><br />\n<table>\n  <thead>\n    <tr>\n      <th>Name</th>\n      <th>Status</th>\n      <th>Payment Status</th>\n    </tr>\n  </thead>\n  <tbody>\n    {{rows}}\n  </tbody>\n</table>\n<br /><br />\n{{signature}}",v["email.templates.attendance-report-row-template"]="\n<tr>\n  <td>{{firstName}} {{lastName}}</td>\n  <td>{{status}}</td>\n  <td>{{paymentStatus}}</td>\n</tr>";for(var y=Object.keys(v),w=Array.isArray(y),A=0,y=w?y:y[Symbol.iterator]();;){var k;if(w){if(A>=y.length)break;k=y[A++]}else{if(A=y.next(),A.done)break;k=A.value}var x=k;v[x]=v[x].trim()}}var S=JSON.parse(localStorage.getItem("attendees"));S||(S=[]);var I=JSON.parse(localStorage.getItem("checkIns"));I||(I=[]);var N=JSON.parse(localStorage.getItem("recipients"));N||(N=[]);e.WebAPI=(p=(0,o.inject)(s.EventAggregator))(f=function(){function e(r){l(this,e),this.isRequesting=!1,this.eventAggregator=r,r.subscribe(t.AttendeeUpdated,function(e){localStorage.setItem("attendees",JSON.stringify(S))}),r.subscribe(n.CheckIn,function(e){I.push({attendeeId:e.attendee.id,date:new Date}),localStorage.setItem("checkIns",JSON.stringify(I))}),r.subscribe(i.SettingsUpdated,function(e){localStorage.setItem("settings",JSON.stringify(e.settings))}),r.subscribe(a.RecipientsUpdated,function(e){localStorage.setItem("recipients",JSON.stringify(e.recipients))})}return e.prototype.getNavItems=function(){return c(this,g)},e.prototype.getMenuItems=function(){return c(this,b)},e.prototype.getAttendees=function(){return c(this,S)},e.prototype.getAttendeesByLastName=function(e){return this.getAttendees().then(function(t){return t.filter(function(t){return t.lastName==e})})},e.prototype.getAttendeeById=function(e){return this.getAttendees().then(function(t){return t.find(function(t){return t.id==e})})},e.prototype.saveAttendee=function(e){return e=u(e,S),this.eventAggregator.publish(new t.AttendeeUpdated(e)),this.getAttendeeById(e.id)},e.prototype.getCheckIns=function(){return c(this,I)},e.prototype.saveCheckIn=function(e){return this.eventAggregator.publish(new n.CheckIn(e)),c(this,e)},e.prototype.deleteCheckIns=function(){return I=[],localStorage.removeItem("checkIns"),c(this,I)},e.prototype.getSettings=function(){return c(this,v)},e.prototype.saveSettings=function(e){return v=e,this.eventAggregator.publish(new i.SettingsUpdated(v)),c(this,v)},e.prototype.getRecipients=function(){return c(this,N)},e.prototype.saveRecipients=function(e){return N=e,this.eventAggregator.publish(new a.RecipientsUpdated(N)),c(this,N)},e}())||f}),define("pages/gmail",["exports","web-api","aurelia-framework"],function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Gmail=void 0;var r,s,o=["https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest"];e.Gmail=(r=(0,n.inject)(t.WebAPI))(s=function(){function e(t){a(this,e),this.isSignedIn=!1,this.messages=[],this.webApi=t}return e.prototype.created=function(){this.handleClientLoad()},e.prototype.handleClientLoad=function(){gapi.load("client:auth2",this.initClient.bind(this))},e.prototype.initClient=function(){var e=this;gapi.client.init({discoveryDocs:o,clientId:"746369453415-rso20ut2ook4lamuvbhtd731akdi2ncb.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/gmail.readonly"}).then(function(){gapi.auth2.getAuthInstance().isSignedIn.listen(e.updateSigninStatus.bind(e)),e.updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get())})},e.prototype.updateSigninStatus=function(e){this.isSignedIn=e,e&&this.listLabels()},e.prototype.handleAuthClick=function(){gapi.auth2.getAuthInstance().signIn()},e.prototype.handleSignoutClick=function(){gapi.auth2.getAuthInstance().signOut()},e.prototype.appendPre=function(e){this.messages.push(e+"\n")},e.prototype.listLabels=function(){var e=this;gapi.client.gmail.users.labels.list({userId:"me"}).then(function(t){var n=t.result.labels;if(e.appendPre("Labels:"),n&&n.length>0)for(i=0;i<n.length;i++){var a=n[i];e.appendPre(a.name)}else e.appendPre("No Labels found.")})},e}())||s}),define("pages/lookup",["exports","web-api","aurelia-framework"],function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Lookup=void 0;var i,r;e.Lookup=(i=(0,n.inject)(t.WebAPI))(r=function(){function e(t){a(this,e),this.lastName="",this.attendees=[],this.showAttendees=!1,this.webApi=t}return e.prototype.created=function(){},e.prototype.submit=function(){var e=this;this.webApi.getAttendeesByLastName(this.lastName).then(function(t){e.attendees=t,e.showAttendees=!0})},e.prototype.reset=function(){this.lastName="",this.showAttendees=!1},e}())||r}),define("pages/registration",["exports","aurelia-framework","aurelia-router","web-api","aurelia-dependency-injection","aurelia-validation","resources/renderers/alt-bootstrap-form-renderer"],function(e,t,n,a,i,r,s){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Registration=void 0;var l,d;e.Registration=(l=(0,t.inject)(a.WebAPI,n.Router,i.NewInstance.of(r.ValidationController)))(d=function(){function e(t,n,a){o(this,e),this.attendee={},this.webApi=t,this.router=n,this.controller=a,a.validateTrigger=r.validateTrigger.blur,a.addRenderer(new s.AltBootstrapFormRenderer),this.rules=r.ValidationRules.ensure("firstName").required().ensure("lastName").required().ensure("email").required().email().ensure("address1").displayName("Street Address").required().ensure("address2").minLength(1).ensure("city").required().ensure("state").required().minLength(2).ensure("postalCode").required().matches(/\d{5}/).withMessage("Postal Code must be exactly 5 digits.").ensure("phone").required().matches(/\d{3}-\d{3}-\d{4}/).withMessage("Phone must be in the format 123-456-7890.").ensure("sms").required().withMessage("You must select Yes or No.").ensure("member").required().withMessage("You must select Yes or No.").ensure("associate").required().withMessage("You must select Yes or No.").ensure("associateFirstName").minLength(1).ensure("associateLastName").minLength(1).ensure("associateEmail").email().ensure("referred").required().withMessage("You must select Yes or No.").ensure("referredByFirstName").required().when(function(e){return e.referred}).ensure("referredByLastName").required().when(function(e){return e.referred}).ensure("referredByEmail").required().email().when(function(e){return e.referred}).ensure("referredByCity").minLength(1).ensure("referredByState").minLength(2).ensure("referredByPostalCode").matches(/\d{5}/).withMessage("Referred By Postal Code must be exactly 5 digits.").ensure("referredByPhone").matches(/\d{3}-\d{3}-\d{4}/).withMessage("Referred By Phone must be in the format 123-456-7890.").rules}return e.prototype.activate=function(e){var t=this,n=e.id;n?this.webApi.getAttendeeById(n).then(function(e){return t.attendee=e}):this.reset()},e.prototype.submit=function(e){var t=this;this.controller.validate().then(function(n){n.valid&&t.submitSuccess(e)})},e.prototype.submitSuccess=function(e){var t=this,n=this.attendee;if(e){if(n.lastAttendedDate=(new Date).toDateString(),n.paid=!1,n.nextPaymentDate){new Date(Date.parse(n.nextPaymentDate))>new Date&&(n.paid=!0)}n.attendance||(n.attendance=[]),n.attendance.push({date:n.lastAttendedDate,paid:!1})}this.webApi.saveAttendee(n).then(function(n){t.attendee=n,e?(t.webApi.saveCheckIn(n),t.router.navigate("splash/"+n.id)):t.router.navigate("registration/"+n.id)})},e.prototype.detached=function(){this.reset()},e.prototype.reset=function(){this.attendee={},this.controller.reset()},e}())||d}),define("pages/reports",["exports","web-api","aurelia-framework","aurelia-router"],function(e,t,n,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Reports=void 0;var r,s;e.Reports=(r=(0,n.inject)(t.WebAPI,a.Router))(s=function(){function e(t,n){i(this,e),this.attendees=[],this.checkIns=[],this.webApi=t,this.router=n}return e.prototype.setPaid=function(e,t){var n=this;this.webApi.getAttendeeById(e).then(function(e){e.paid=!0;var a=null;e.nextPaymentDate&&(a=new Date(Date.parse(e.nextPaymentDate))),(null==a||a<new Date)&&(a=new Date),e.nextPaymentDate=new Date(a.getTime()+864e5*t).toDateString(),n.webApi.saveAttendee(e).then(function(e){return n.router.navigate("splash/"+e.id)})})},e.prototype.created=function(){var e=this;this.webApi.getAttendees().then(function(t){return e.attendees=t}).then(function(){e.webApi.getCheckIns().then(function(t){e.checkIns=t;for(var n=e.checkIns,a=Array.isArray(n),i=0,n=a?n:n[Symbol.iterator]();;){var r;if("break"===function(){if(a){if(i>=n.length)return"break";r=n[i++]}else{if(i=n.next(),i.done)return"break";r=i.value}var t=r;t.attendee=e.attendees.find(function(e){return e.id==t.attendeeId})}())break}})})},e}())||s}),define("pages/settings",["exports","aurelia-framework","web-api","js-base64","moment"],function(e,t,n,a,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){return e.split("@")}function o(e){return e[0]+"@"+e[1]}function l(){return(0,h.default)(new Date).format("dddd, MMM D, YYYY")}function d(e){return e.associate?"Associate":e.member?"Member":"Guest"}function c(e){return e.paid?"Paid":"Unpaid"}function u(e,t,n){var a=t["email.templates.signature"];return t[n].replace("{{date}}",l()).replace("{{firstName}}",e.firstName).replace("{{lastName}}",e.lastName).replace("{{status}}",d(e)).replace("{{paymentStatus}}",c(e)).replace("{{signature}}",a)}Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=void 0;var p,f,h=function(e){return e&&e.__esModule?e:{default:e}}(i),m=["https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest"];e.Settings=(p=(0,t.inject)(n.WebAPI))(f=function(){function e(t){r(this,e),this.recipients=[],this.settings={},this.checkIns=[],this.attendees=[],this.isSignedIn=!1,this.accessToken=null,this.webApi=t}return e.prototype.created=function(){var e=this;this.webApi.getRecipients().then(function(t){return e.recipients=t.map(s)}),this.webApi.getSettings().then(function(t){return e.settings=t}),this.webApi.getCheckIns().then(function(t){return e.checkIns=t}),this.webApi.getAttendees().then(function(t){return e.attendees=t}),this.handleClientLoad()},e.prototype.save=function(){var e=this;this.webApi.saveRecipients(this.recipients.map(o).filter(function(e){return/\S+[@]\S+[.]\S+/.test(e)})).then(function(t){return e.recipients=t.map(s)}),this.webApi.saveSettings(this.settings)},e.prototype.addRecipient=function(){this.recipients.push(["",""])},e.prototype.deleteRecipient=function(e,t){var n=this,a=o([e,t]);return this.webApi.saveRecipients(this.recipients.map(o).filter(function(e){return e!==a})).then(function(e){return n.recipients=e.map(s)}),!1},e.prototype.getRecipients=function(){return this.recipients.map(o).map(function(e){return"<"+e+">"}).join(", ")},e.prototype.findAttendee=function(e){return this.attendees.find(function(t){return t.id==e})},e.prototype.sendAll=function(){this.isSignedIn&&(this.sendAttendanceReport(),this.sendBriefingReport(),this.sendWelcomeAssociate(),this.sendWelcomeMember(),this.sendWelcomeGuest(),this.sendReferringAssociate(),this.webApi.deleteCheckIns())},e.prototype.sendAttendanceReport=function(){for(var e=this.getRecipients(),t=this.settings,n=t["email.templates.signature"],a=t["email.templates.attendance-report-row-template"],i="",r=this.checkIns,s=Array.isArray(r),o=0,r=s?r:r[Symbol.iterator]();;){var u;if(s){if(o>=r.length)break;u=r[o++]}else{if(o=r.next(),o.done)break;u=o.value}var p=u,f=this.findAttendee(p.attendeeId);i+=a.replace("{{date}}",l()).replace("{{firstName}}",f.firstName).replace("{{lastName}}",f.lastName).replace("{{status}}",d(f)).replace("{{paymentStatus}}",c(f))}var h=t["email.templates.attendance-report"].replace("{{rows}}",i).replace("{{signature}}",n);this.sendMessage(e,"Weekly Attendance - Omaha LegalShield Meeting",h)},e.prototype.sendBriefingReport=function(){for(var e=this.getRecipients(),t=this.settings,n=t["email.templates.signature"],a=0,i=0,r=0,s=this.checkIns,o=Array.isArray(s),d=0,s=o?s:s[Symbol.iterator]();;){var c;if(o){if(d>=s.length)break;c=s[d++]}else{if(d=s.next(),d.done)break;c=d.value}var u=c,p=this.findAttendee(u.attendeeId);p.associate?a++:p.member?i++:r++}var f=t["email.templates.briefing-report"].replace("{{date}}",l()).replace("{{associates}}",a).replace("{{members}}",i).replace("{{guests}}",r).replace("{{signature}}",n);this.sendMessage(e,"Stats from this weeks Omaha LS Briefing",f)},e.prototype.sendWelcomeAssociate=function(){for(var e=this.settings,t=(e["email.templates.signature"],this.checkIns),n=Array.isArray(t),a=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(a>=t.length)break;i=t[a++]}else{if(a=t.next(),a.done)break;i=a.value}var r=i,s=this.findAttendee(r.attendeeId);if(s.associate){var o=u(s,e,"email.templates.welcome-associate");this.sendMessage("<"+s.email+">","Omaha LegalShield Business Opportunity Meeting",o)}}},e.prototype.sendWelcomeMember=function(){for(var e=this.settings,t=(e["email.templates.signature"],this.checkIns),n=Array.isArray(t),a=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(a>=t.length)break;i=t[a++]}else{if(a=t.next(),a.done)break;i=a.value}var r=i,s=this.findAttendee(r.attendeeId);if(!s.associate&&s.member){var o=u(s,e,"email.templates.welcome-member");this.sendMessage("<"+s.email+">","Omaha LegalShield Business Opportunity Meeting",o)}}},e.prototype.sendWelcomeGuest=function(){for(var e=this.settings,t=(e["email.templates.signature"],this.checkIns),n=Array.isArray(t),a=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(a>=t.length)break;i=t[a++]}else{if(a=t.next(),a.done)break;i=a.value}var r=i,s=this.findAttendee(r.attendeeId);if(!s.associate&&!s.member){var o=u(s,e,"email.templates.welcome-guest");this.sendMessage("<"+s.email+">","Omaha LegalShield Business Opportunity Meeting",o)}}},e.prototype.sendReferringAssociate=function(){for(var e=this.settings,t=(e["email.templates.signature"],this.checkIns),n=Array.isArray(t),a=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(a>=t.length)break;i=t[a++]}else{if(a=t.next(),a.done)break;i=a.value}var r=i,s=this.findAttendee(r.attendeeId);if(s.referred&&!s.referredMessageSent){var o=e["email.templates.signature"],d=e[templateKey],c=d.replace("{{date}}",l()).replace("{{firstName}}",s.referredByFirstName).replace("{{lastName}}",s.referredByLastName).replace("{{signature}}",o);this.sendMessage("<"+s.referredByEmail+">","Omaha LegalShield Business Opportunity Meeting",c),s.referredMessageSent=!0,this.webApi.saveAttendee(s)}}},e.prototype.sendMessage=function(e,t,n){var i=this.settings,r='"Admin" <'+i["email.sender.address"]+">",s=(0,h.default)(new Date).format("hhmmssSSS.DD-MMM-YYYY"),o=(0,h.default)(new Date).format("ddd, D MMM YYYY HH:mm:ss ZZ"),l=("\nFrom: "+r+"\nTo: "+e+"\nSubject: "+t+"\nDate: "+o+"\nMessage-ID: <"+s+"@legalshieldassociates.com>\nContent-Type: multipart/alternative; boundary="+s+"\n\n--"+s+"\nContent-Type: text/plain; charset=UTF-8\n\nYou can't view the HTML message.\n\n--"+s+"\nContent-Type: text/html; charset=UTF-8\nContent-Transfer-Encoding: quoted-printable\n\n"+n+"\n").trim();gapi.client.request({path:"/gmail/v1/users/me/messages/send?alt=json",method:"POST",params:{},headers:{},body:{raw:a.Base64.encodeURI(l)}}).then(function(e){200!==e.status&&console.log(e)})},e.prototype.handleClientLoad=function(){gapi.load("client:auth2",this.initClient.bind(this))},e.prototype.initClient=function(){var e=this;gapi.client.init({discoveryDocs:m,clientId:"746369453415-rso20ut2ook4lamuvbhtd731akdi2ncb.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/gmail.compose https://www.googleapis.com/auth/gmail.send"}).then(function(){gapi.auth2.getAuthInstance().isSignedIn.listen(e.updateSigninStatus.bind(e)),e.updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get())})},e.prototype.updateSigninStatus=function(e){this.isSignedIn=e;var t=gapi.auth2.getAuthInstance().currentUser.get();this.accessToken=t.getAuthResponse(!0).access_token},e.prototype.handleAuthClick=function(){gapi.auth2.getAuthInstance().signIn()},e.prototype.handleSignoutClick=function(){gapi.auth2.getAuthInstance().signOut()},e}())||f}),define("pages/splash",["exports","web-api","aurelia-framework"],function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Splash=void 0;var i,r;e.Splash=(i=(0,n.inject)(t.WebAPI))(r=function(){function e(t){a(this,e),this.attendee={},this.webApi=t}return e.prototype.activate=function(e){var t=this,n=e.id;this.webApi.getAttendeeById(n).then(function(e){return t.attendee=e})},e.prototype.reset=function(){this.attendee={}},e}())||r}),define("resources/index",["exports"],function(e){"use strict";function t(e){e.globalResources(["./elements/loading-indicator","./value-converters/keys-value-converter","./value-converters/auth-filter-value-converter"])}Object.defineProperty(e,"__esModule",{value:!0}),e.configure=t}),define("services/auth-service",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.AuthService=function(){function e(){t(this,e),this.authenticated=!1,this.baseUrl="/",this.loginRoute="/login",this.loginRedirect="#/",this.initialUrl=""}return e.prototype.isAuthenticated=function(){return this.authenticated},e.prototype.getBaseUrl=function(){return this.baseUrl},e.prototype.setBaseUrl=function(e){this.baseUrl=e},e.prototype.getLoginRoute=function(){return this.loginRoute},e.prototype.setLoginRoute=function(e){this.loginRoute=e},e.prototype.getLoginRedirect=function(){return this.initialUrl||this.loginRedirect},e.prototype.setLoginRedirect=function(e){this.loginRedirect=e},e.prototype.setInitialUrl=function(e){this.initialUrl=e},e.prototype.authenticate=function(e,t){var n=this;return new Promise(function(e){n.authenticated=!0,e()})},e.prototype.logout=function(){var e=this;return new Promise(function(t){e.authenticated=!1,e.initialUrl="",t()})},e}()}),define("services/authorize-step",["exports","aurelia-dependency-injection","aurelia-router","services/auth-service"],function(e,t,n,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.AuthorizeStep=void 0;var r,s;e.AuthorizeStep=(r=(0,t.inject)(a.AuthService))(s=function(){function e(t){i(this,e),this.authService=t}return e.prototype.run=function(e,t){var a=this.authService.isAuthenticated(),i=this.authService.getLoginRoute();if(e.getAllInstructions().some(function(e){return e.config.auth})){if(!a)return this.authService.setInitialUrl(window.location.href),t.cancel(new n.Redirect(i))}else if(a&&e.getAllInstructions().some(function(e){return e.fragment===i})){var r=this.authService.getLoginRedirect();return t.cancel(new n.Redirect(r))}return t()},e}())||s}),define("components/nav/bottom-nav",["exports","aurelia-framework","web-api"],function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.BottomNav=void 0;var i,r;e.BottomNav=(i=(0,t.inject)(t.Aurelia,n.WebAPI))(r=function(){function e(t,n){a(this,e),this.aurelia=t,this.webApi=n}return e.prototype.created=function(){},e}())||r}),define("components/nav/top-nav",["exports","aurelia-framework","services/auth-service","aurelia-router","web-api"],function(e,t,n,a,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.TopNav=void 0;var s,o,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();e.TopNav=(s=(0,t.inject)(t.Aurelia,n.AuthService,a.Router,i.WebAPI))(o=function(){function e(t,n,a,i){r(this,e),this.aurelia=t,this.authService=n,this.router=a,this.webApi=i}return e.prototype.logout=function(){var e=this;this.authService.logout().then(function(){e.router.navigate("login")})},e.prototype.created=function(){var e=this;this.webApi.getMenuItems().then(function(t){return e.menuItems=t})},l(e,[{key:"isAuthenticated",get:function(){return this.authService.isAuthenticated()}}]),e}())||o}),define("model/events/attendee-updated",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.AttendeeUpdated=function(){function e(n){t(this,e),this.attendee=n}return e.prototype.contains=function(e){return this.attendee.id==e.id},e}()}),define("model/events/check-in",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.CheckIn=function(){function e(n){t(this,e),this.attendee=n}return e.prototype.contains=function(e){return this.attendee.id==e.id},e}()}),define("model/events/recipients-updated",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.RecipientsUpdated=function e(n){t(this,e),this.recipients=n}}),define("model/events/setting-updated",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.SettingUpdated=function(){function e(n){t(this,e),this.setting=n}return e.prototype.contains=function(e){return this.setting.id==e.id},e}()}),define("model/events/settings-updated",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.SettingsUpdated=function e(n){t(this,e),this.settings=n}}),define("resources/elements/loading-indicator",["exports","nprogress","aurelia-framework"],function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.LoadingIndicator=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t);e.LoadingIndicator=(0,n.decorators)((0,n.noView)(["nprogress/nprogress.css"]),(0,n.bindable)({name:"loading",defaultValue:!1})).on(function(){function e(){a(this,e)}return e.prototype.loadingChanged=function(e){e?i.start():i.done()},e}())}),define("resources/renderers/alt-bootstrap-form-renderer",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.AltBootstrapFormRenderer=function(){function e(){t(this,e)}return e.prototype.render=function(e){for(var t=e.unrender,n=Array.isArray(t),a=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(a>=t.length)break;i=t[a++]}else{if(a=t.next(),a.done)break;i=a.value}for(var r=i,s=r.result,o=r.elements,l=o,d=Array.isArray(l),c=0,l=d?l:l[Symbol.iterator]();;){var u;if(d){if(c>=l.length)break;u=l[c++]}else{if(c=l.next(),c.done)break;u=c.value}var p=u;this.remove(p,s)}}for(var f=e.render,h=Array.isArray(f),m=0,f=h?f:f[Symbol.iterator]();;){var g;if(h){if(m>=f.length)break;g=f[m++]}else{if(m=f.next(),m.done)break;g=m.value}for(var b=g,s=b.result,o=b.elements,v=o,y=Array.isArray(v),w=0,v=y?v:v[Symbol.iterator]();;){var A;if(y){if(w>=v.length)break;A=v[w++]}else{if(w=v.next(),w.done)break;A=w.value}var k=A;this.add(k,s)}}},e.prototype.add=function(e,t){if(!t.valid){var n=e.closest(".form-group");if(n){n.classList.add("has-error");var a=document.createElement("span");a.className="help-block validation-message",a.textContent=t.message,a.id="validation-message-"+t.id,n.appendChild(a)}}},e.prototype.remove=function(e,t){if(!t.valid){var n=e.closest(".form-group");if(n){var a=n.querySelector("#validation-message-"+t.id);a&&(n.removeChild(a),0===n.querySelectorAll(".help-block.validation-message").length&&n.classList.remove("has-error"))}}},e}()}),define("resources/renderers/bootstrap-form-renderer",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.BootstrapFormRenderer=function(){function e(){t(this,e)}return e.prototype.render=function(e){for(var t=e.unrender,n=Array.isArray(t),a=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(a>=t.length)break;i=t[a++]}else{if(a=t.next(),a.done)break;i=a.value}for(var r=i,s=r.result,o=r.elements,l=o,d=Array.isArray(l),c=0,l=d?l:l[Symbol.iterator]();;){var u;if(d){if(c>=l.length)break;u=l[c++]}else{if(c=l.next(),c.done)break;u=c.value}var p=u;this.remove(p,s)}}for(var f=e.render,h=Array.isArray(f),m=0,f=h?f:f[Symbol.iterator]();;){var g;if(h){if(m>=f.length)break;g=f[m++]}else{if(m=f.next(),m.done)break;g=m.value}
for(var b=g,s=b.result,o=b.elements,v=o,y=Array.isArray(v),w=0,v=y?v:v[Symbol.iterator]();;){var A;if(y){if(w>=v.length)break;A=v[w++]}else{if(w=v.next(),w.done)break;A=w.value}var k=A;this.add(k,s)}}},e.prototype.add=function(e,t){var n=e.closest(".form-group");if(n)if(t.valid)n.classList.contains("has-error")||n.classList.add("has-success");else{n.classList.remove("has-success"),n.classList.add("has-error");var a=document.createElement("span");a.className="help-block validation-message",a.textContent=t.message,a.id="validation-message-"+t.id,n.appendChild(a)}},e.prototype.remove=function(e,t){var n=e.closest(".form-group");if(n)if(t.valid)n.classList.contains("has-success")&&n.classList.remove("has-success");else{var a=n.querySelector("#validation-message-"+t.id);a&&(n.removeChild(a),0===n.querySelectorAll(".help-block.validation-message").length&&n.classList.remove("has-error"))}},e}()}),define("resources/value-converters/auth-filter-value-converter",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.AuthFilterValueConverter=function(){function e(){t(this,e)}return e.prototype.toView=function(e,t){return e.filter(function(e){return void 0===e.config.auth||e.config.auth===t})},e}()}),define("resources/value-converters/date-format-value-converter",["exports","moment"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DateFormatValueConverter=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(t);e.DateFormatValueConverter=function(){function e(){n(this,e)}return e.prototype.toView=function(e){return(0,a.default)(e).format("MMMM Do YYYY, h:mm:ss a")},e}()}),define("resources/value-converters/keys-value-converter",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.KeysValueConverter=function(){function e(){t(this,e)}return e.prototype.toView=function(e){return Reflect.ownKeys(e)},e}()}),define("text!app.html",["module"],function(e){e.exports='<template>\n  <require from="bootstrap.css"></require>\n  <require from="components/nav/top-nav"></require>\n  <require from="components/nav/bottom-nav"></require>\n  \x3c!--<require from="components/nav/left-nav"></require>--\x3e\n  \x3c!--<require from="components/nav/right-nav"></require>--\x3e\n\n  <loading-indicator loading.bind="router.isNavigating || webApi.isRequesting"></loading-indicator>\n\n  <top-nav></top-nav>\n  \x3c!--<left-nav></left-nav>--\x3e\n  \x3c!--<right-nav></right-nav>--\x3e\n\n  <div class="container-fluid" id="container">\n    <router-view></router-view>\n  </div>\n\n  <bottom-nav></bottom-nav>\n</template>\n'}),define("text!bootstrap.css",["module"],function(e){e.exports='/* Global styles. */\nbody {\n  padding-top: 70px;\n  padding-bottom: 70px; }\n\n/* Element styles. */\n#nprogress .spinner {\n  top: 60px !important; }\n\n.navbar-brand {\n  padding: 0; }\n\n.navbar-fixed-bottom p {\n  margin: 0;\n  line-height: 70px; }\n\n.rounded-corners {\n  border-radius: 3px; }\n\n.text-larger {\n  font-size: larger; }\n\n.form-group.required .control-label:after {\n  color: #d00;\n  content: " *"; }\n'}),define("text!index.html",["module"],function(e){e.exports='<template>\n  <div class="content" slot="content">\n    <h1>${message}</h1>\n  </div>\n</template>\n'}),define("text!pages/gmail.html",["module"],function(e){e.exports='<template>\n  <div class="page-header">\n    <h2>Authenticate with Gmail</h2>\n  </div>\n  <div class="col-sm-12 col-md-8 col-lg-6">\n    <div class="row">\n      <div class="btn-group">\n        \x3c!--Add buttons to initiate auth sequence and sign out--\x3e\n        <button id="authorize-button" class="btn btn-primary" if.bind="!isSignedIn" click.delegate="handleAuthClick()">Authorize</button>\n        <button id="signout-button" class="btn btn-default" if.bind="isSignedIn" click.delegate="handleSignoutClick()">Sign Out</button>\n      </div>\n      <div class="form-group">\n        <pre id="content">\n          <span repeat.for="message of messages">${message}</span>\n        </pre>\n      </div>\n    </div>\n  </div>\n\n</template>'}),define("text!pages/lookup.html",["module"],function(e){e.exports='<template>\n  <div class="page-header">\n    <h1>Start Here</h1>\n  </div>\n  <h2>Have you attended before?</h2>\n  <div class="col-sm-8 col-md-6 col-lg-4">\n    <div class="row">\n      <div class="well">\n        <form class="form-inline" submit.delegate="submit()">\n          <p>Yes. I would like to look up my registration information.</p>\n          <div class="form-group">\n            <div class="input-group">\n              <label class="sr-only" for="last_name">Last Name</label>\n              <input type="text" class="form-control" id="last_name" placeholder="Last Name" value.bind="lastName" />\n              <span class="input-group-btn">\n                <button type="submit" class="form-control btn btn-primary">Search</button>\n              </span>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n    <div class="row" if.bind="showAttendees && attendees.length">\n      <h3>Please select your name</h3>\n      <div class="list-group">\n        <a href="#/registration/${attendee.id}" class="list-group-item" repeat.for="attendee of attendees">\n          <i class="glyphicon glyphicon-user"></i>\n          <strong>${attendee.firstName} ${attendee.lastName}</strong>\n        </a>\n      </div>\n    </div>\n    <div class="row" if.bind="showAttendees && !attendees.length">\n      <div class="list-group">\n        <a href="#/registration" class="list-group-item">\n          <i class="glyphicon glyphicon-search"></i>\n          <strong>Not found</strong>\n        </a>\n      </div>\n    </div>\n    <p>-or-</p>\n    <div class="row">\n      <div class="well">\n        <p>No. I would like to enter my registration information.</p>\n        <a href="#/registration" class="form-control btn btn-info" role="button">Register Now</a>\n      </div>\n    </div>\n  </div>\n</template>\n'}),define("text!pages/registration.html",["module"],function(e){e.exports='<template>\n  <div class="page-header">\n    <h1>${attendee.id ? \'Previous Attendee\' : \'New Attendee\'}</h1>\n  </div>\n  <div class="row">\n    <div class="col-sm-8">\n      <div class="well">\n        <form id="registration-form" submit.delegate="submit(false)">\n          <fieldset>\n            <legend>Your Information</legend>\n            <div class="form-group required">\n             <label class="control-label" for="firstName">First Name</label>\n              <input type="text" class="form-control" id="firstName" placeholder="Jane" value.bind="attendee.firstName & validate:rules" />\n            </div>\n            <div  class="form-group required">\n             <label class="control-label" for="lastName">Last Name</label>\n              <input type="text" class="form-control" id="lastName" placeholder="Doe" value.bind="attendee.lastName & validate:rules" />\n            </div>\n            <div  class="form-group required">\n             <label class="control-label" for="email">Email</label>\n              <input type="email" class="form-control" id="email" placeholder="email@example.com" value.bind="attendee.email & validate:rules" />\n            </div>\n            <div  class="form-group required">\n             <label class="control-label" for="address1">Street Address</label>\n              <input type="text" class="form-control" id="address1" placeholder="123 Main St" value.bind="attendee.address1 & validate:rules" />\n            </div>\n            <div class="form-group">\n             <label class="control-label" for="address2">Suite/Apartment Number</label>\n              <input type="text" class="form-control" id="address2" placeholder="Suite 101" value.bind="attendee.address2 & validate:rules" />\n            </div>\n            <div  class="form-group required">\n             <label class="control-label" for="city">City</label>\n              <input type="text" class="form-control" id="city" placeholder="Irving" value.bind="attendee.city & validate:rules" />\n            </div>\n            <div  class="form-group required">\n             <label class="control-label" for="state">State</label>\n              <input type="text" class="form-control" id="state" placeholder="TX" maxlength="2" value.bind="attendee.state & validate:rules" />\n            </div>\n            <div  class="form-group required">\n             <label class="control-label" for="postalCode">Postal Code</label>\n              <input type="text" class="form-control" id="postalCode" placeholder="55555" maxlength="5" value.bind="attendee.postalCode & validate:rules" />\n            </div>\n            <div  class="form-group required">\n             <label class="control-label" for="phone">Phone Number (Home or Mobile)</label>\n              <input type="text" class="form-control" id="phone" placeholder="999-999-9999" value.bind="attendee.phone & validate:rules" />\n            </div>\n            <div  class="form-group required">\n              <label>Do you text?</label>\n            </div>\n            <div class="form-group">\n              <label class="radio-inline">\n                <input type="radio" name="sms" id="sms-yes" model.bind="true" value.bind="attendee.sms & validate:rules" checked.bind="attendee.sms" /> Yes\n              </label>\n              <label class="radio-inline">\n                <input type="radio" name="sms" id="sms-no" model.bind="false" value.bind="attendee.sms" checked.bind="attendee.sms" /> No\n              </label>\n            </div>\n            <div  class="form-group required">\n              <label>Are you a LS Member?</label>\n            </div>\n            <div class="form-group">\n              <label class="radio-inline">\n                <input type="radio" name="member" id="member-yes" model.bind="true" value.bind="attendee.member & validate:rules" checked.bind="attendee.member" /> Yes\n              </label>\n              <label class="radio-inline">\n                <input type="radio" name="member" id="member-no" model.bind="false" value.bind="attendee.member" checked.bind="attendee.member" /> No\n              </label>\n            </div>\n            <div  class="form-group required">\n              <label>Are you a LS Associate?</label>\n            </div>\n            <div class="form-group">\n              <label class="radio-inline">\n                <input type="radio" name="associate" id="associate-yes" model.bind="true" value.bind="attendee.associate & validate:rules" checked.bind="attendee.associate" /> Yes\n              </label>\n              <label class="radio-inline">\n                <input type="radio" name="associate" id="associate-no" model.bind="false" value.bind="attendee.associate" checked.bind="attendee.associate" /> No\n              </label>\n            </div>\n            <div if.bind="attendee.associate">\n              <h3><small>Is someone else on your Associate Agreement?</small></h3>\n              <div class="form-group">\n               <label class="control-label" for="associateFirstName">First Name</label>\n                <input type="text" class="form-control" id="associateFirstName" placeholder="John" value.bind="attendee.associateFirstName & validate:rules" />\n              </div>\n              <div class="form-group">\n               <label class="control-label" for="associateLastName">Last Name</label>\n                <input type="text" class="form-control" id="associateLastName" placeholder="Smith" value.bind="attendee.associateLastName & validate:rules" />\n              </div>\n              <div class="form-group">\n               <label class="control-label" for="associateEmail">Email</label>\n                <input type="email" class="form-control" id="associateEmail" placeholder="email@example.com" value.bind="attendee.associateEmail & validate:rules" />\n              </div>\n            </div>\n            <div  class="form-group required">\n              <label>Were you referred by someone at this meeting?</label>\n            </div>\n            <div class="form-group">\n              <label class="radio-inline">\n                <input type="radio" name="referred" id="referred-yes" model.bind="true" value.bind="attendee.referred & validate:rules" checked.bind="attendee.referred" /> Yes\n              </label>\n              <label class="radio-inline">\n                <input type="radio" name="referred" id="referred-no" model.bind="false" value.bind="attendee.referred" checked.bind="attendee.referred" /> No\n              </label>\n            </div>\n            <div if.bind="attendee.referred">\n              <h3><small>Who were you referred by?</small></h3>\n              <div  class="form-group required">\n               <label class="control-label" for="referredByFirstName">First Name</label>\n                <input type="text" class="form-control" id="referredByFirstName" placeholder="John" value.bind="attendee.referredByFirstName & validate:rules" />\n              </div>\n              <div  class="form-group required">\n               <label class="control-label" for="referredByLastName">Last Name</label>\n                <input type="text" class="form-control" id="referredByLastName" placeholder="Smith" value.bind="attendee.referredByLastName & validate:rules" />\n              </div>\n              <div  class="form-group required">\n               <label class="control-label" for="referredByEmail">Email</label>\n                <input type="email" class="form-control" id="referredByEmail" placeholder="email@example.com" value.bind="attendee.referredByEmail & validate:rules" />\n              </div>\n              <div class="form-group">\n               <label class="control-label" for="referredByCity">City</label>\n                <input type="text" class="form-control" id="referredByCity" placeholder="Irving" value.bind="attendee.referredByCity & validate:rules" />\n              </div>\n              <div class="form-group">\n               <label class="control-label" for="referredByState">State</label>\n                <input type="text" class="form-control" id="referredByState" placeholder="TX" maxlength="2" value.bind="attendee.referredByState & validate:rules" />\n              </div>\n              <div class="form-group">\n               <label class="control-label" for="referredByPostalCode">Postal Code</label>\n                <input type="text" class="form-control" id="referredByPostalCode" placeholder="55555" maxlength="5" value.bind="attendee.referredByPostalCode & validate:rules" />\n              </div>\n              <div class="form-group">\n               <label class="control-label" for="referredByPhone">Phone</label>\n                <input type="email" class="form-control" id="referredByPhone" placeholder="999-999-9999" value.bind="attendee.referredByPhone & validate:rules" />\n              </div>\n            </div>\n          </fieldset>\n          <fieldset>\n            <div class="form-group">\n              <a href="#/lookup" role="button" class="btn btn-default">Cancel</a>\n              <button type="button" class="btn btn-primary" click.delegate="submit(true)">Check In</button>\n              <button type="submit" class="btn btn-primary pull-right" click.delegate="submit(false)">Save</button>\n              <br />\n              <p class="pull-right">\n                <span class="label label-info">Save only, without check-in</span>\n              </p>\n            </div>\n          </fieldset>\n        </form>\n      </div>\n    </div>\n    <div class="col-sm-4">\n      <div class="panel panel-default">\n        <div class="panel-body">\n          <div class="text-center logo">\n            <img src="images/lslogo.png" width="209" />\n          </div>\n          <div>\n            <h2 if.bind="attendee.id">\n              Welcome back!\n              <br /><small>Please confirm your information</small>\n            </h2>\n            <h2>About registration</h2>\n            <p>LS Associates are welcome to attend this Corporate-sponsored weekly event no matter which team they are a part of; if you are a LegalShield Associate in good standing, we welcome you.</p>\n            <p class="lead">You are part of Team Nebraska.</p>\n            <p>\n              One of the 10 Core Commitments is to attend your weekly business briefing.\n              You may prepay for a calendar year quarter (<strong>13 weeks</strong>) for <span class="label label-success">$50</span>.\n              The weekly cost is <span class="label label-success">$5.00</span>.\n              Please bring cash.\n              If you prefer to pay by a check or debit/credit card, the weekly amount is <span class="label label-success">$5.20</span>, quarterly is <span class="label label-success">$52.00</span>.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n'}),define("text!pages/reports.html",["module"],function(e){e.exports='<template>\n  <div class="page-header">\n    <h1>Reports</h1>\n  </div>\n  <div class="table-responsive">\n    <h2>Today\'s Check-Ins</h2>\n    <table class="table table-hover">\n      <thead>\n      <tr>\n        <th>Name</th>\n        <th>E-Mail</th>\n        <th>Address</th>\n        <th>Phone</th>\n        <th>Paid?</th>\n        <th>Referred By</th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr repeat.for="checkIn of checkIns">\n        <td>${checkIn.attendee.firstName} ${checkIn.attendee.lastName}<br />\n          <span class="label label-default" if.bind="checkIn.attendee.member">member</span>\n          <span class="label label-primary" if.bind="checkIn.attendee.associate">associate</span>\n        </td>\n        <td>${checkIn.attendee.email}</td>\n        <td>\n          <span if.bind="checkIn.attendee.address1">${checkIn.attendee.address1}<br /></span>\n          <span if.bind="checkIn.attendee.address2">${checkIn.attendee.address2}<br /></span>\n          <span if.bind="checkIn.attendee.city">${checkIn.attendee.city}</span><span if.bind="checkIn.attendee.state || checkIn.attendee.postalCode">, ${checkIn.attendee.state} ${checkIn.attendee.postalCode}</span>\n        </td>\n        <td>${checkIn.attendee.phone}<br /><span class="label label-info" if.bind="checkIn.attendee.sms">sms</span></td>\n        <td>\n          <div class="btn-group">\n            <button type="button" class="btn btn-xs btn-${checkIn.attendee.paid ? \'success\' : \'danger\'} dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n              ${checkIn.attendee.paid ? \'Yes\' : \'No\'} <span class="caret"></span>\n            </button>\n            <ul class="dropdown-menu">\n              <li><a href="#" click.delegate="setPaid(checkIn.attendee.id, 7)">Weekly</a></li>\n              <li><a href="#" click.delegate="setPaid(checkIn.attendee.id, 30)">30 days</a></li>\n              <li><a href="#" click.delegate="setPaid(checkIn.attendee.id, 60)">60 days</a></li>\n              <li><a href="#" click.delegate="setPaid(checkIn.attendee.id, 90)">90 days</a></li>\n              <li><a href="#" click.delegate="setPaid(checkIn.attendee.id, 120)">120 days</a></li>\n            </ul>\n          </div>\n        </td>\n        <td>${checkIn.attendee.referredByFirstName} ${checkIn.attendee.referredByLastName}</td>\n      </tr>\n      </tbody>\n    </table>\n    <h2>Attendees (All Time)</h2>\n    <table class="table table-hover">\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>E-Mail</th>\n          <th>Address</th>\n          <th>Phone</th>\n          <th>Referred By</th>\n          <th>Last Attended</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr repeat.for="attendee of attendees">\n          <td>${attendee.firstName} ${attendee.lastName}<br />\n            <span class="label label-default" if.bind="attendee.member">member</span>\n            <span class="label label-primary" if.bind="attendee.associate">associate</span>\n          </td>\n          <td>${attendee.email}</td>\n          <td>\n            <span if.bind="attendee.address1">${attendee.address1}<br /></span>\n            <span if.bind="attendee.address2">${attendee.address2}<br /></span>\n            <span if.bind="attendee.city">${attendee.city}</span><span if.bind="attendee.state || attendee.postalCode">, ${attendee.state} ${attendee.postalCode}</span>\n          </td>\n          <td>${attendee.phone}<br /><span class="label label-info" if.bind="attendee.sms">sms</span></td>\n          <td>${attendee.referredByFirstName} ${attendee.referredByLastName}</td>\n          <td>${attendee.lastAttendedDate}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n'}),define("text!pages/settings.html",["module"],function(e){e.exports='<template>\n  <div class="page-header">\n    <h1>Settings</h1>\n  </div>\n  <div class="col-sm-12 col-md-8 col-lg-6">\n    <div class="row">\n      <h2>Gmail</h2>\n      <div class="btn-group">\n        \x3c!--Add buttons to initiate auth sequence and sign out--\x3e\n        <button id="authorize-button" class="btn btn-primary" if.bind="!isSignedIn" click.delegate="handleAuthClick()">Authorize</button>\n        <button id="signout-button" class="btn btn-default" if.bind="isSignedIn" click.delegate="handleSignoutClick()">Sign Out</button>\n      </div>\n      \x3c!--<div class="form-group">--\x3e\n        \x3c!--<pre id="content">--\x3e\n          \x3c!--<span repeat.for="message of messages">${message}</span>--\x3e\n        \x3c!--</pre>--\x3e\n      \x3c!--</div>--\x3e\n      <div class="btn-group">\n        <button class="btn btn-danger" click.delegate="sendAll()">\n          <span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> Send E-Mail\n        </button>\n      </div>\n    </div>\n    <div class="row">\n      <h2>Report Recipients</h2>\n      <form>\n        <div class="form-group form-inline" repeat.for="recipient of recipients">\n          <label class="sr-only">E-Mail</label>\n          <div class="input-group">\n            <input type="text" class="form-control" placeholder="john.smith" value.bind="recipient[0]">\n            <div class="input-group-addon">@</div>\n            <input type="text" class="form-control" placeholder="email.com" value.bind="recipient[1]">\n            <div class="input-group-addon"><a href="#" click.delegate="return deleteRecipient(recipient[0], recipient[1])"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a></div>\n          </div>\n        </div>\n        <div class="form-group">\n          <button type="button" class="btn btn-primary" click.delegate="addRecipient()">\n            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> <span class="sr-only">Add New</span>\n          </button>\n          <button type="submit" class="btn btn-primary" click.delegate="save()">Save</button>\n        </div>\n      </form>\n    </div>\n    <div class="row">\n      <h2>E-Mail Templates</h2>\n      <form>\n        <fieldset>\n          <div class="panel-group" id="email-templates-accordion" role="tablist" aria-multiselectable="true">\n            <div class="panel panel-default">\n              <div class="panel-heading" role="tab" id="heading-signature">\n                <h4 class="panel-title">\n                  <a class="collapsed" role="button" data-toggle="collapse" data-parent="#email-templates-accordion" href="#collapse-heading-signature" aria-expanded="false" aria-controls="collapse-heading-signature">\n                    <label for="signature">E-Mail Template Signature</label>\n                  </a>\n                </h4>\n              </div>\n              <div id="collapse-heading-signature" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-signature">\n                <div class="panel-body">\n                  <textarea class="form-control" rows="20" id="signature" value.bind="settings[\'email.templates.signature\']" blur.trigger="save()"></textarea>\n                </div>\n              </div>\n            </div>\n            <div class="panel panel-default">\n              <div class="panel-heading" role="tab" id="heading-welcome-guest">\n                <h4 class="panel-title">\n                  <a class="collapsed" role="button" data-toggle="collapse" data-parent="#email-templates-accordion" href="#collapse-heading-welcome-guest" aria-expanded="false" aria-controls="collapse-heading-welcome-guest">\n                    <label for="welcome-guest">Welcome Guest E-Mail Template</label>\n                  </a>\n                </h4>\n              </div>\n              <div id="collapse-heading-welcome-guest" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-welcome-guest">\n                <div class="panel-body">\n                  <textarea class="form-control" rows="20" id="welcome-guest" value.bind="settings[\'email.templates.welcome-guest\']" blur.trigger="save()"></textarea>\n                </div>\n              </div>\n            </div>\n            <div class="panel panel-default">\n              <div class="panel-heading" role="tab" id="heading-welcome-member">\n                <h4 class="panel-title">\n                  <a class="collapsed" role="button" data-toggle="collapse" data-parent="#email-templates-accordion" href="#collapse-heading-welcome-member" aria-expanded="false" aria-controls="collapse-heading-welcome-member">\n                    <label for="welcome-member">Welcome Member E-Mail Template</label>\n                  </a>\n                </h4>\n              </div>\n              <div id="collapse-heading-welcome-member" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-welcome-member">\n                <div class="panel-body">\n                  <textarea class="form-control" rows="20" id="welcome-member" value.bind="settings[\'email.templates.welcome-member\']" blur.trigger="save()"></textarea>\n                </div>\n              </div>\n            </div>\n            <div class="panel panel-default">\n              <div class="panel-heading" role="tab" id="heading-welcome-associate">\n                <h4 class="panel-title">\n                  <a class="collapsed" role="button" data-toggle="collapse" data-parent="#email-templates-accordion" href="#collapse-heading-welcome-associate" aria-expanded="false" aria-controls="collapse-heading-welcome-associate">\n                    <label for="welcome-associate">Welcome Associate E-Mail Template</label>\n                  </a>\n                </h4>\n              </div>\n              <div id="collapse-heading-welcome-associate" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-welcome-associate">\n                <div class="panel-body">\n                  <textarea class="form-control" rows="20" id="welcome-associate" value.bind="settings[\'email.templates.welcome-associate\']" blur.trigger="save()"></textarea>\n                </div>\n              </div>\n            </div>\n            <div class="panel panel-default">\n              <div class="panel-heading" role="tab" id="heading-referring-associate">\n                <h4 class="panel-title">\n                  <a class="collapsed" role="button" data-toggle="collapse" data-parent="#email-templates-accordion" href="#collapse-heading-referring-associate" aria-expanded="false" aria-controls="collapse-heading-referring-associate">\n                    <label for="referring-associate">Referring Associate E-Mail Template</label>\n                  </a>\n                </h4>\n              </div>\n              <div id="collapse-heading-referring-associate" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-referring-associate">\n                <div class="panel-body">\n                  <textarea class="form-control" rows="20" id="referring-associate" value.bind="settings[\'email.templates.referring-associate\']" blur.trigger="save()"></textarea>\n                </div>\n              </div>\n            </div>\n            <div class="panel panel-default">\n              <div class="panel-heading" role="tab" id="heading-briefing-report">\n                <h4 class="panel-title">\n                  <a class="collapsed" role="button" data-toggle="collapse" data-parent="#email-templates-accordion" href="#collapse-heading-briefing-report" aria-expanded="false" aria-controls="collapse-heading-briefing-report">\n                    <label for="briefing-report">Briefing Report E-Mail Template</label>\n                  </a>\n                </h4>\n              </div>\n              <div id="collapse-heading-briefing-report" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-briefing-report">\n                <div class="panel-body">\n                  <textarea class="form-control" rows="20" id="briefing-report" value.bind="settings[\'email.templates.briefing-report\']" blur.trigger="save()"></textarea>\n                </div>\n              </div>\n            </div>\n            <div class="panel panel-default">\n              <div class="panel-heading" role="tab" id="heading-attendance-report">\n                <h4 class="panel-title">\n                  <a class="collapsed" role="button" data-toggle="collapse" data-parent="#email-templates-accordion" href="#collapse-heading-attendance-report" aria-expanded="false" aria-controls="collapse-heading-attendance-report">\n                    <label for="attendance-report">Attendance Report E-Mail Template</label>\n                  </a>\n                </h4>\n              </div>\n              <div id="collapse-heading-attendance-report" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-attendance-report">\n                <div class="panel-body">\n                  <textarea class="form-control" rows="20" id="attendance-report" value.bind="settings[\'email.templates.attendance-report\']" blur.trigger="save()"></textarea>\n                </div>\n              </div>\n            </div>\n            <div class="panel panel-default">\n              <div class="panel-heading" role="tab" id="heading-attendance-report-row-template">\n                <h4 class="panel-title">\n                  <a class="collapsed" role="button" data-toggle="collapse" data-parent="#email-templates-accordion" href="#collapse-heading-attendance-report-row-template" aria-expanded="false" aria-controls="collapse-heading-attendance-report-row-template">\n                    <label for="attendance-report-row-template">Attendance Report Row Template</label>\n                  </a>\n                </h4>\n              </div>\n              <div id="collapse-heading-attendance-report-row-template" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-attendance-report-row-template">\n                <div class="panel-body">\n                  <textarea class="form-control" rows="20" id="attendance-report-row-template" value.bind="settings[\'email.templates.attendance-report-row-template\']" blur.trigger="save()"></textarea>\n                </div>\n              </div>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</template>\n'}),define("text!pages/splash.html",["module"],function(e){
e.exports='<template>\n  <div class="page-header">\n    <h1>Thank you! <small>${attendee.paid ? \'You\\\'re all set.\' : \'Please pay now.\'}</small></h1>\n  </div>\n  <div class="panel panel-default" if.bind="!attendee.paid">\n    <div class="panel-body">\n      <h2>Order total</h2>\n      <p class="text-larger">Your order total is <span class="label label-success">$5.00</span>. Payment is accepted via <span class="label label-info">cash</span> or <span class="label label-info">credit card</span>. Credit card payment will require a <span class="label label-success">$0.20</span> surcharge, for a total of <span class="label label-success">$5.20</span>.</p>\n    </div>\n  </div>\n  <div>\n    <h2><small>Fast facts</small></h2>\n    <p if.bind="attendee.attendance.length > 1">You last attended on ${attendee.attendance[attendee.attendance.length - 1].date}.</p>\n    <p if.bind="attendee.attendance.length == 1">This is your first time attending!</p>\n    <p if.bind="attendee.nextPaymentDate">You are paid up through ${attendee.nextPaymentDate}</p>\n  </div>\n</template>'}),define("text!components/nav/bottom-nav.html",["module"],function(e){e.exports='<template>\n  <nav class="navbar navbar-default navbar-fixed-bottom">\n    <div class="container-fluid">\n      <p class="text-center">\n        Copyright &copy; 2017 <a href="http://www.mjjm.info" title="">Michael &amp; Marilyn McKee</a>\n        &middot;\n        Created by <a href="http://insource.io" title="InSource Software"><img src="images/logo_background.png" height="32" class="rounded-corners" /></a>\n      </p>\n    </div>\n  </nav>\n</template>'}),define("text!components/nav/top-nav.html",["module"],function(e){e.exports='<template>\n  <nav class="navbar navbar-default navbar-fixed-top" role="navigation" id="navbar-top">\n    <div class="container-fluid">\n      <div class="navbar-header">\n        <a href="#/">\n        </a>\n        <a class="navbar-brand" href="#/">\n          <img src="images/lslogo.png" height="60" />\n          \x3c!--<i class="glyphicon glyphicon-home"></i>--\x3e\n          \x3c!--<span class="hidden">LegalShield</span>--\x3e\n        </a>\n        <a class="navbar-toggle collapsed" role="button" data-toggle="collapse" href="#navbar-top-right">\n          <span class="sr-only">Toggle navigation</span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n        </a>\n      </div>\n\n      <div class="navbar-collapse collapse" id="navbar-top-right">\n        <ul class="nav navbar-nav navbar-right">\n          <li repeat.for="item of menuItems">\n            <a href="#/${item.route}" title="${item.title}">\n              <i class="glyphicon glyphicon-${item.icon}" aria-hidden="true"></i>\n              <span class="nav-label ${item.showTitle ? \'\' : \'hidden\'}">${item.title}</span>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n'});